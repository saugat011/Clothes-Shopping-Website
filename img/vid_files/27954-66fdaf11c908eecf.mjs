(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27954,4394,15071],{537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function s(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function i(e,n){function o(){var e=i;s(e)&&e.a.parentNode&&n(e.g)}var i=e;t(e.b,o),t(e.c,o),s(e)}function r(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,l=null,c=null,d=null;function u(){return null===d&&(d=!!document.fonts),d}function h(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}c=""!==e.style.font}return c}function p(e,t){return[e.style,e.weight,h()?e.stretch:"","100px",t].join(" ")}r.prototype.load=function(e,t){var s=this,r=e||"BESbswy",c=0,d=t||3e3,h=(new Date).getTime();return new Promise((function(e,t){if(u()&&!function(){if(null===l)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var m=new Promise((function(e,t){!function n(){(new Date).getTime()-h>=d?t(Error(d+"ms timeout exceeded")):document.fonts.load(p(s,'"'+s.family+'"'),r).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),_=new Promise((function(e,t){c=setTimeout((function(){t(Error(d+"ms timeout exceeded"))}),d)}));Promise.race([_,m]).then((function(){clearTimeout(c),e(s)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=f&&-1!=v||-1!=f&&-1!=x||-1!=v&&-1!=x)&&((t=f!=v&&f!=x&&v!=x)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(f==g&&v==g&&x==g||f==w&&v==w&&x==w||f==y&&v==y&&x==y)),t=!t),t&&(b.parentNode&&b.parentNode.removeChild(b),clearTimeout(c),e(s))}var u=new n(r),m=new n(r),_=new n(r),f=-1,v=-1,x=-1,g=-1,w=-1,y=-1,b=document.createElement("div");b.dir="ltr",o(u,p(s,"sans-serif")),o(m,p(s,"serif")),o(_,p(s,"monospace")),b.appendChild(u.a),b.appendChild(m.a),b.appendChild(_.a),document.body.appendChild(b),g=u.a.offsetWidth,w=m.a.offsetWidth,y=_.a.offsetWidth,function e(){if((new Date).getTime()-h>=d)b.parentNode&&b.parentNode.removeChild(b),t(Error(d+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(f=u.a.offsetWidth,v=m.a.offsetWidth,x=_.a.offsetWidth,l()),c=setTimeout(e,50)}}(),i(u,(function(e){f=e,l()})),o(u,p(s,'"'+s.family+'",sans-serif')),i(m,(function(e){v=e,l()})),o(m,p(s,'"'+s.family+'",serif')),i(_,(function(e){x=e,l()})),o(_,p(s,'"'+s.family+'",monospace'))}))}))},e.exports=r}()},615071:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(487462),s=n(263366),i=n(875068);n(45697);function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var a=n(667294),l=n(973935);const c=!1;var d=n(500220),u="unmounted",h="exited",p="entering",m="entered",_="exiting",f=function(e){function t(t,n){var o;o=e.call(this,t,n)||this;var s,i=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(s=h,o.appearStatus=p):s=m:s=t.unmountOnExit||t.mountOnEnter?u:h,o.state={status:s},o.nextCallback=null,o}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:h}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==m&&(t=p):n!==p&&n!==m||(t=_)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!=typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===p?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===h&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,s=this.props.nodeRef?[o]:[l.findDOMNode(this),o],i=s[0],r=s[1],a=this.getTimeouts(),d=o?a.appear:a.enter;!e&&!n||c?this.safeSetState({status:m},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,r),this.safeSetState({status:p},(function(){t.props.onEntering(i,r),t.onTransitionEnd(d,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(i,r)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!c?(this.props.onExit(o),this.safeSetState({status:_},(function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:h},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:h},(function(){e.props.onExited(o)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(n&&!o){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=s[0],r=s[1];this.props.addEndListener(i,r)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,s.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(d.Z.Provider,{value:null},"function"==typeof n?n(e,o):a.cloneElement(a.Children.only(n),o))},t}(a.Component);function v(){}f.contextType=d.Z,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},f.UNMOUNTED=u,f.EXITED=h,f.ENTERING=p,f.ENTERED=m,f.EXITING=_;const x=f;var g=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.remove(o):"string"==typeof n.className?n.className=r(n.className,o):n.setAttribute("class",r(n.className&&n.className.baseVal||"",o)));var n,o}))},w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var o=t.resolveArguments(e,n),s=o[0],i=o[1];t.removeClasses(s,"exit"),t.addClass(s,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.resolveArguments(e,n),s=o[0],i=o[1]?"appear":"enter";t.addClass(s,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.resolveArguments(e,n),s=o[0],i=o[1]?"appear":"enter";t.removeClasses(s,i),t.addClass(s,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,o="string"==typeof n,s=o?""+(o&&n?n+"-":"")+e:n[e];return{baseClassName:s,activeClassName:o?s+"-active":n[e+"Active"],doneClassName:o?s+"-done":n[e+"Done"]}},t}(0,i.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&s&&(o+=" "+s),"active"===n&&e&&e.scrollTop,o&&(this.appliedClasses[t][n]=o,function(e,t){e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.add(o):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,o)||("string"==typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)));var n,o}))}(e,o))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],o=n.base,s=n.active,i=n.done;this.appliedClasses[t]={},o&&g(e,o),s&&g(e,s),i&&g(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,s.Z)(e,["classNames"]));return a.createElement(x,(0,o.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);w.defaultProps={classNames:""},w.propTypes={};const y=w},500220:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(667294).createContext(null)},372169:(e,t,n)=>{n.d(t,{Je:()=>o,dA:()=>i,iO:()=>r,jh:()=>a,s_:()=>s,wq:()=>l});const o=350,s=134,i=16,r=2,a=236,l=20},524309:(e,t,n)=>{n.d(t,{Qi:()=>c,RK:()=>l,$_:()=>a});var o=n(766935);var s=n(957161);const i="REDUX_STATE",r=()=>!!navigator.serviceWorker,a=()=>r()&&JSON.parse((0,s.qn)(i))||{},l=e=>(0,o.Z)((t=>{const n={};n[e]=t,r()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{r()&&(0,s.Nh)(i,JSON.stringify({...a(),...e}))})(n)))}),1e3),c=()=>{(0,s.L_)(i)}},28543:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var o=n(567831);var s=n(55259),i=n(966113);function r(e,t,n){if(!s.Z[e])throw new Error(`unknown url key: ${e}`);n||(n={});let r=s.Z[e](n);const a=function(e,t){let n=null;return e&&(n=e.advertiserId||null),!n&&t&&(n=t.id),n}(n,t);return"string"==typeof a&&(r="/advertiser/"+a+r),!!n.absolutify&&(r=(0,o.Z)(r,void 0,i.KU)),r}},21353:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(702664),s=n(28543);function i(){const e=(0,o.useSelector)((({advertiser:e})=>e));return(t,n)=>(0,s.default)(t,e,n)}},673270:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(249647),s=n(121093),i=n(911687),r=n(70061),a=n(785893);const l=({placementId:e})=>(0,a.jsx)(s.Z,{placementId:e,predicate:e=>{var t;return 1===(null===(t=e.display_data)||void 0===t?void 0:t.component_type)},children:({complete:e,dismiss:t,experience:{display_data:n}})=>{const s=(0,o.Z)(r.Z)(n);return(0,a.jsx)(i.Z,{displayData:s,onComplete:()=>e(),onDismiss:t})}})},502517:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var o=n(667294),s=n(773285),i=n(898781),r=n(276775),a=n(883119),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=5e3;class u extends o.Component{constructor(...e){super(...e),c(this,"isOnClose",this.props.onCloseEnabled&&2===this.props.actionTrigger),c(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:this.isOnClose}),c(this,"loadSurvey",((e=!0)=>{const{onView:t}=this.props;e&&t(),this.setState({surveyLoaded:!0})})),c(this,"processIFrameMessage",(e=>{const{presentationDelay:t=d,onComplete:n,surveyLink:o,onCloseEnabled:s}=this.props,i=e.origin||e.originalEvent.origin;o.startsWith(i)&&("surveyFinished"===e.data?n():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.showSurveyOnLeavingPage(),s?this.actionTriggerHandler():this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)))})),c(this,"handleShowSurvey",(()=>{this.setState({surveyAccepted:!0})}))}componentDidMount(){window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout((()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))}),15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}actionTriggerHandler(){const{actionTrigger:e,presentationDelay:t=d}=this.props;switch(e){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)}}showSurveyOnLeavingPage(){const{onView:e,block:t}=this.props;t((()=>{e(),this.setState({showSurveyOnClose:!1})}))}render(){const{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:n,showSurveyOnClose:o}=this.state;if(t)return null;const{acceptButtonText:s,bodyText:i,declineButtonText:r,onDismiss:c,subtitleText:d,surveyLink:u,titleText:h}=this.props,p=(0,l.jsx)("iframe",{style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},src:u,title:this.props.i18n._('Pinterest Survey', 'Accessible label for survey frame', 'Accessible label for survey frame'),"data-test-id":"anket-iframe"});return n&&!o?(0,l.jsx)(a.xu,{position:"absolute",zIndex:new a.Ry(1e3),children:(0,l.jsxs)(a.u_,{accessibilityModalLabel:this.props.i18n._('Have a few minutes to take a survey?', 'User evaluation survey', 'User evaluation survey'),footer:!e&&(0,l.jsxs)(a.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,l.jsx)(a.zx,{fullWidth:!0,text:r,onClick:()=>{this.setState({surveyAccepted:!1}),c()}})}),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",text:s,onClick:this.handleShowSurvey})})]}),heading:e?"":h,onDismiss:c,role:"alertdialog",size:e?"lg":"md",padding:"none",children:[(0,l.jsx)(a.xu,{children:p}),!e&&(0,l.jsxs)(a.xu,{padding:3,children:[(0,l.jsx)(a.xv,{children:d}),(0,l.jsx)(a.xv,{children:i})]})]})}):p}}const h=function(e){const t=(0,i.ZP)(),{checkExperiment:n}=(0,s.F)(),a=(0,r.useHistory)(),[c,d]=(0,o.useState)(null),h=(0,o.useRef)(null);return(0,l.jsx)(u,{...e,i18n:t,history:(0,r.useHistory)(),onCloseEnabled:n("discovery_measurements_on_close_survey").anyEnabled,unblock:()=>{var e;h&&(null===(e=h.current)||void 0===e||e.call(h));if(c){const{location:e,action:t}=c;"PUSH"===t?a.push(`${e.pathname}${e.search}`):"POP"===t&&a.goBack()}},block:e=>{h.current=a.block(((t,n)=>(d({location:t,action:n}),e(),!1)))}})};var p=n(121093),m=n(149230),_=n(121151);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends o.Component{constructor(...e){super(...e),f(this,"state",{surveyLoaded:!1}),f(this,"loadSurvey",(()=>{var e,t;this.setState({surveyLoaded:!0}),null===(e=(t=this.props).view)||void 0===e||e.call(t)})),f(this,"handleDismiss",(()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})})),f(this,"handleComplete",(()=>{this.props.complete(),this.setState({surveyLoaded:!1})}))}componentDidMount(){const{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;const{displayData:{buttons:e,detailed_text:t,title_text:n}}=this.props;return(0,l.jsx)(_.ZP,{heading:n,accessibilityModalLabel:this.props.i18n._('Would you mind taking a survey?', 'User eval survey', 'User eval survey'),onDismiss:this.handleDismiss,size:"sm",footer:(0,l.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:e.map((e=>{if(e.uri){const t=e.uri,n=(0,m.Z)({url:t})?"nofollow":"none";return(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(a.zx,{role:"link",href:t,target:"blank",rel:n,fullWidth:!0,color:"red",text:e.text,onClick:this.handleComplete})},e.text)}return(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,text:e.text,onClick:this.handleDismiss})},e.text)}))}),children:(0,l.jsx)(a.xu,{padding:3,children:(0,l.jsx)(a.xv,{children:t})})})}}function x(e){const t=(0,i.ZP)();return(0,l.jsx)(v,{...e,i18n:t})}const g=e=>{const{complete:t,dismiss:n,view:o,displayData:s}=e,{anket:i,buttons:r,delay:a,detailed_text:c,subtitle_text:d,title_text:u,action_trigger:p=3}=s,[m,_]=r;return i?(0,l.jsx)(h,{acceptButtonText:_.text,bodyText:c,declineButtonText:m.text,onComplete:t,onDismiss:n,onView:o,presentationDelay:a,subtitleText:d,surveyLink:_.uri,titleText:u,actionTrigger:p}):(0,l.jsx)(x,{complete:t,dismiss:n,displayData:s,view:o})},w=e=>{const{experienceId:t,displayData:n}=e,{delay:s=0}=n,i={...n,delay:0},r={...e,displayData:{...i}},a=(0,o.useRef)(),[c,d]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const e=["/pin-builder","/idea-pin-builder"],t=e=>window.location.pathname.includes(e),n=()=>{e.some(t)?a.current=setTimeout((()=>n()),3e3):d(!0)};return a.current=setTimeout((()=>n()),s),()=>{clearTimeout(a.current)}}),[t,s]),c?(0,l.jsx)(g,{...r}):null};function y(e){const{placementId:t,targeting:n,eligibleIds:o}=e;return(0,l.jsx)(p.Z,{placementId:t,eligibleTypes:[5],disableAutoView:!0,targeting:n,eligibleIds:o||[],children:({complete:e,dismiss:n,view:o,experience:s})=>{const i=s.display_data,r=s.experience_id;return 1000421===t?(0,l.jsx)(w,{experienceId:r,complete:e,dismiss:n,view:o,displayData:i}):(0,l.jsx)(g,{complete:e,dismiss:n,view:o,displayData:i})}})}},911687:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(164985),s=n(391254),i=n(149230),r=n(898781),a=n(444445),l=n(883119),c=n(785893);const d=(a.yF+a.lX)*a.yc-a.lX,u=Array.from(Array(a.g5-a.yc).keys()).reduce(((e,t)=>{const n=t+a.yc,o=(a.yF+a.lX)*n-a.lX;return e+(0,a.KN)(a.yF,n,n,`.banner-content {\n          width: ${o}px;\n          min-width: ${o}px;\n        }`,a.lX)}),`.banner-content {\n      width: ${d}px;\n      min-width: ${d}px;\n  }`);function h(e){const t=(0,r.ZP)(),{displayData:{backgroundColorNarrow:n,backgroundColorWide:a,backgroundImageNarrow:d,backgroundImageWide:h,canClose:p,completeButtonText:m,coverImage:_,dismissButtonText:f,iconImage:v,layoutNarrow:x,layoutWide:g,links:w=[],linkTitles:y=[],message:b,onCompleteRedirectUrl:C,onDismissRedirectUrl:E,textColorNarrow:P,textColorWide:k,titleText:T,external:j},onComplete:S,onDismiss:A}=e,{windowWidth:I}=(0,o.Z)(),z=I<=480,N=z?x:g,D=!z&&3!==N,L=z?n:a,Z=z?P:k,{altText:R,uri:F}=(z?d:h)||{},{altText:M,uri:W}=_||{},{altText:U,uri:O}=v||{},$=z&&2===N||!z&&2===N,H=z?"96px":"48px",B=z&&3===N,V=({event:e})=>{S&&S(e)},G=({event:e})=>{A&&A(e)},X=m&&!C&&(0,c.jsx)(l.zx,{text:m,onClick:V,color:"white"}),q=(0,i.Z)({url:C})?"nofollow":"none",K=m&&C&&(0,c.jsx)(l.zx,{text:m,onClick:V,href:C,role:"link",rel:q,target:j?"blank":void 0,color:"white",size:"lg"},"naglink"),J=(0,i.Z)({url:E})?"nofollow":"none",Q=f&&E&&(0,c.jsx)(l.zx,{text:f,onClick:G,href:E,role:"link",rel:J,target:j?"blank":void 0,color:"white",size:"lg"},"naglink"),Y=f&&!E&&(0,c.jsx)(l.zx,{text:f,onClick:G,color:"white",size:"lg"}),ee=p&&(0,c.jsx)(l.hU,{accessibilityLabel:t._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",onClick:G,icon:"cancel",iconColor:"gray",size:"md"}),te=w.reduce(((e,t,n)=>{const o=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",s=`<a href="${t}" ${o}>${y[n]}</a>`;return e.replace(`{${n}}`,s)}),b),ne={backgroundColor:L,backgroundImage:!F||$||B?void 0:`url(${F})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,c.jsxs)(l.xu,{direction:D?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:2,children:[(0,c.jsx)(s.Z,{unsafeCSS:u}),(0,c.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:(0,c.jsxs)(l.zd,{rounding:4,width:"100%",children:[B&&W&&(0,c.jsx)(l.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,c.jsx)(l.Ee,{alt:M||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:W})}),(0,c.jsxs)(l.xu,{"aria-label":R,alignItems:"center",dangerouslySetInlineStyle:{__style:ne},direction:D?"row":"column",display:"flex",justifyContent:"between",marginTop:B?-2:0,padding:6,children:[(0,c.jsxs)(l.kC,{alignItems:"center",direction:D?"row":"column",justifyContent:"between",maxWidth:D?void 0:"560px",children:[$&&O&&(0,c.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:D?4:0,marginBottom:D?0:6,children:(0,c.jsx)(l.xu,{height:H,width:H,children:(0,c.jsx)(l.zd,{rounding:D?4:6,children:(0,c.jsx)(l.Ee,{alt:U||"icon",naturalHeight:1,naturalWidth:1,src:O})})})}),!D&&T&&(0,c.jsx)(l.xv,{align:"center",weight:"bold",children:(0,c.jsx)("div",{className:"banner-title",style:{color:Z,fontSize:"28px",marginBottom:"8px"},children:T})}),te&&(0,c.jsxs)(l.xv,{align:D?"start":"center",overflow:"normal",children:[(0,c.jsx)("style",{dangerouslySetInnerHTML:{__html:`\n                        .banner-text a {\n                          color: ${Z||""};\n                          font-weight: bold;\n                        }`}}),(0,c.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:te},style:{color:Z}})]})]}),(0,c.jsx)(l.xu,{marginBottom:D?0:-1,marginStart:D?4:0,marginTop:D?0:4,children:(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"center",wrap:!D,gap:{row:2,column:0},children:[Y||Q,X||K,ee]})})]})]})})]})}},298361:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(898781),s=n(349700),i=n(202139);function r(){const e=(0,o.ZP)();return function(t,n){const o=new Date(t),r=new Date-o,a=Math.floor(r/i.FS),l=Math.floor(r/i.UK),c=Math.floor(r/i.F4),d=Math.floor(r/i.VL),u=Math.floor(r/i.N1),h=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', a, ' - ', ' -- '),p=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),_=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', a, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),g=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),y=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,s.nk)(n?y:f,{years:u}).join(""):d>0?(0,s.nk)(n?w:_,{weeks:d}).join(""):c>0?(0,s.nk)(n?g:m,{days:c}).join(""):l>0?(0,s.nk)(n?x:p,{hours:l}).join(""):a>0?(0,s.nk)(n?v:h,{minutes:a}).join(""):e._('Just now', ' - ', ' -- ')}}},164985:(e,t,n)=>{n.d(t,{Z:()=>o});function o(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},167234:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(667294),s=n(977558),i=n(883119),r=n(992813),a=n(697335),l=n(49028),c=n(785893);function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:h=!1,style:p={},top:m}){const{setIsContentHeaderPresent:_}=(0,r.i)();(0,o.useEffect)((()=>(_(!0),function(){_(!1)})),[]);const{currentScrollPosition:f,isScrolled:v,setSubheaderShadow:x}=(0,l.WQ)();(0,o.useEffect)((()=>(h&&x("contentHeader"),()=>{h&&x(null)})),[h]);let g=!1;"pending"!==m&&(g=null!=m?f>=m:v);const w=(0,a.t)(),y=(0,c.jsx)("div",{className:t,ref:n,style:{...p,top:w+d,...g&&h?{...s.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,c.jsx)(i.Le,{top:w+d,children:y}):y}},142103:(e,t,n)=>{n.d(t,{Z:()=>P});var o=n(667294),s=n(702664),i=n(694379),r=n(898781),a=n(349700),l=n(883119),c=n(785893);const d=({followText:e,followerCount:t,userFollowed:n})=>{const o=(0,r.ZP)();return(0,a.nk)(o._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,c.jsx)(l.xu,{"data-test-id":"followCount",paddingX:1,opacity:n?void 0:.8,children:(0,c.jsx)(l.xv,{color:n?"subtle":"inverse",children:(0,c.jsx)(i.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,c.jsx)(l.xu,{"data-test-id":"followText",paddingX:1,children:(0,c.jsx)(l.xv,{color:n?"default":"inverse",weight:"bold",children:e})},"followText")})};var u=n(704177),h=n(829407),p=n(201155),m=n(11363),_=n(584595),f=n(407043),v=n(918301),x=n(698330),g=n(807532),w=n(946984),y=n(343341),b=n(461773);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends o.PureComponent{constructor(...e){super(...e),C(this,"handleButtonClick",(({event:e})=>{const{requireAuth:t,i18n:n,userFollowed:o}=this.props;if(t)return e.stopPropagation(),void t({loginModalHeader:(0,m.N4)({i18n:n,toFollow:!o})});const{shouldStopEventPropagation:s,loggingData:i}=this.props;s&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...i||Object.freeze({})}),this.toggleFollowUnfollow()})),C(this,"handleClick",(({event:e})=>{const{requireAuth:t}=this.props;(t||this.props.shouldStopEventPropagation)&&e.stopPropagation(),t?t():this.toggleFollowUnfollow()})),C(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:n,userFollowed:o,viewType:s,viewParameter:i}=this.props;o?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:s,view_parameter:i,aux_data:{pin_id:t},...n||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:s,view_parameter:i,aux_data:{pin_id:t},...n||Object.freeze({})}),this.follow())})),C(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:n,mostRecentPinId:o,setMostRecentPinId:s}=this.props;e(t,o,this.showConfirmation,this.showError),n&&n(!0),s(null)})),C(this,"showToast",(e=>{const{id:t,imageUrl:n,profileUrl:o,toastManagerContext:s,suppressToasts:i}=this.props;i||s.showOneToast((({hideToast:s})=>(0,c.jsx)(p.Z,{href:o,userId:t,imageUrl:n,handleHide:s,text:e})))})),C(this,"showConfirmation",(()=>{const e=(0,c.jsx)(l.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')});this.showToast(e)})),C(this,"showError",(e=>{const{fullName:t,userFollowed:n,showEmailVerificationReminderModal:o}=this.props,s=n?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(e&&e.api_error_code===_.H9)return void o();const i=(0,c.jsx)(l.xv,{children:(0,a.nk)(s,{usernameComponent:(0,c.jsx)(l.xv,{weight:"bold",inline:!0,children:t})})});this.showToast(i)})),C(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:n,mostRecentPinId:o,setMostRecentPinId:s}=this.props;n(e,o,(()=>{}),this.showError),t&&t(!1),s(null)}))}renderButton(){const{button:e,followerCount:t,inline:n=!1,isOwnProfile:o,invertButtonColor:s,isSecondaryButton:i,size:r,showFollowerCount:a,userFollowed:u}=this.props,h=u?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:h,onClick:this.handleButtonClick,userFollowed:u});if(o)return(0,c.jsx)(l.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(a){const e="number"==typeof t?(0,c.jsx)(d,{followerCount:t,userFollowed:u,followText:h}):h;return(0,c.jsx)(l.iP,{onTap:this.handleClick,children:(0,c.jsx)(l.xu,{color:u?"secondary":"primary",rounding:2,paddingX:3,paddingY:3,children:(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,c.jsx)(l.xu,{display:"inlineBlock","data-test-id":`user-${u?"unfollow":"follow"}-button`,children:(0,c.jsx)(l.zx,{accessibilityLabel:u?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:i||u?"gray":"red",selected:s?!u:!!u,fullWidth:n,onClick:this.handleButtonClick,size:null!=r?r:void 0,text:h})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,c.jsxs)(l.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,c.jsx)(l.iP,{onTap:this.handleClick,children:(0,c.jsx)(l.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,c.jsx)(l.o3,{paused:t||!1})})})]})}}function P(e){const{logContextEvent:t}=(0,f.v)(),n=(0,r.ZP)(),{id:o,setMostRecentPinId:i}=(0,g.f)(),a=(0,w.Z)(),l=(0,s.useDispatch)(),{showEmailVerificationReminderModal:d}=(0,v.y9)(),p=(0,x.mN)()(e.id),m=null==p?void 0:p.follower_count,_=p?p.explicitly_followed_by_me:e.userFollowed;return(0,h.Z)((()=>{const{id:t}=e,n=u.ZP.localStorage.getItem("unauthDesktopFollowId")||"";n&&n===t&&(u.ZP.localStorage.removeItem("unauthDesktopFollowId"),l((0,b.ZN)(n)))})),(0,c.jsx)(E,{...e,follow:(e,t,n,o)=>{l((0,b.yA)(e,t)).then(n).catch((e=>{o(e)}))},followerCount:m,i18n:n,logContextEvent:t,mostRecentPinId:o,requireAuth:a,setMostRecentPinId:i,showEmailVerificationReminderModal:d,toastManagerContext:(0,y.F9)(),unfollow:(e,t,n,o)=>{l((0,b.KF)(e,t)).then(n,o)},userFollowed:_})}},825067:(e,t,n)=>{n.d(t,{H:()=>s,W:()=>i});var o=n(425288);const{Provider:s,useMaybeHook:i}=(0,o.Z)("PinCreateDeleteContext")},777906:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294),s=n(865607),i=n(883119),r=n(785893);const a=function({badgeSize:e,badgeSpacing:t,fullName:n,identityIsVerified:a,isVerifiedMerchant:l,truncate:c=!1}){const d=n.split(" "),u=d.slice(0,d.length-1).join(" "),h=" ".concat(d[d.length-1]);return c?(0,r.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(i.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(i.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(s.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]}):(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h," ",(0,r.jsx)(i.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(s.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]})]})}},96939:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(65675),s=n(883119),i=n(785893);function r({coverImages:e,height:t,isHovered:n,onClick:r,onMouseEnter:a,onMouseLeave:l,textType:c,text:d,url:u,width:h}){const p=e&&(e["236x"]||e["280x280"]);return(0,i.jsx)(o.Z,{backgroundColor:"gray",coverImage:p,height:t,isHovered:n,onClick:r,onMouseEnter:a,onMouseLeave:l,url:u,width:h,children:(0,i.jsx)(s.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:h||"100%",children:"text"===c?(0,i.jsx)(s.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,i.jsx)(s.X6,{align:"center",size:"500",color:"light",children:d})}):(0,i.jsx)(s.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,i.jsx)(s.xv,{align:"center",weight:"bold",children:d})})})})}},534991:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(667294),s=n(121093),i=n(499128),r=n(407043),a=n(785893);const l=e=>{const{logContextEvent:t}=(0,r.v)();return(0,a.jsx)(s.Z,{eligibleIds:e.eligibleIds,placementId:e.placementId,eligibleTypes:[10],children:({complete:n,dismiss:o,experience:{display_data:s}})=>{const r=s.link||e.linkUrl;return(0,a.jsx)(i.ZP,{duration:s.duration,href:r,text:s.text||"",onClick:()=>{n(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?n():o()}})}})};var c=n(343341);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class h extends o.Component{constructor(...e){super(...e),d(this,"componentDidMount",(()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout((()=>this.triggerEducationToasts()),e)}))}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:o}=this.props;e.showOneToast((({hideToast:e})=>(0,a.jsx)(l,{experienceIds:o,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1})))}render(){return null}}function p(e){return(0,a.jsx)(h,{...e,toastManagerContext:(0,c.F9)()})}d(h,"defaultProps",{completionOnDismissal:!1})},962832:(e,t,n)=>{n.d(t,{$J:()=>P,AP:()=>L,Dm:()=>k,Fv:()=>C,H$:()=>z,In:()=>D,Ng:()=>E,RH:()=>w,Wj:()=>N,_P:()=>T,go:()=>b});var o=n(126098),s=n(6637),i=n(524309),r=n(30287),a=n(53987),l=n(867820),c=n(957161);const d="home",u="closeup",h="news_hub",p="board",m="profile",_="topic",f="today",v="business",x="search";let g;const w="_push",y=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},b=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),C=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker,{pwaType:o,twaType:s}=g.getState().session,i=new URLSearchParams({source_url:window.location.pathname});o&&s&&(0,r.Rx)(s)&&(i.append("pwa_type",o),i.append("twa_type",s)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&i.append("referrer",document.referrer),n&&n.register?((0,l.My)("mweb_service_worker.install_attempt"),n.register(`/sw.js?${i.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),y(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),E=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker;n&&n.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),n.getRegistration().then((n=>{n?n.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),y(n),e(n)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):C().then(e)}))):e()})),P=()=>{const e=g.getState().session.isAuthenticated;(0,l.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),C()},k=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,i.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},T=()=>!(!b()||!("SyncManager"in window)),j=e=>(0,a.C$)(e)?d:(0,a.L6)(e)?u:(0,a.l4)(e)?h:(0,a.am)(e)?p:(0,a.cD)(e)?m:(0,a.En)(e)?x:(0,a.$V)(e)?_:(0,a.Zz)(e)?f:(0,a.Ni)(e)?v:"undefined",S=e=>{switch(j(e)){case d:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case h:return{viewType:107,viewParameter:3081};case p:return{viewType:5,viewParameter:void 0};case x:return{viewType:2,viewParameter:43};case _:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case f:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},A=(e,t)=>(0,l.tj)(e,{browser:g.getState().session.browser,version:Math.floor(parseInt(g.getState().session.browserVersion,10)),...t}),I=(0,o.Z)(),z="default"===I||"granted"===I,N=(e,t,n,o)=>{const i=navigator.serviceWorker,r=Boolean((0,c.qn)(w)),a={experimentName:n||"noExperiment",experimentGroup:o||"noGroup"};return i&&i.ready&&z&&!r?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:n,experiment_group:o}}),A(`mweb.notifications_upsell.${j(e)}.viewed`,a),i.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((n=>((e,t,n,o)=>{s.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const n=(({subscriptionId:e,endpoint:t})=>{return e||(n=t.split("/"))[n.length-1];var n})(e);if(t.resource_response.data[n])return;const o={registration_id:n,subscription_endpoint:e.endpoint};s.Z.create("WebPushDeviceResource",o).callCreate()})),(0,c.Nh)(w,"subscribed"),A(`mweb.notifications_upsell.${j(t)}.subscribed`,n);const i=S(t);o({component:13125,element:10357,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})})(n,e,a,t)),(()=>((e,t,n)=>{(0,c.Nh)(w,"denied"),A(`mweb.notifications_upsell.${j(e)}.denied`,t);const o=S(e);n({component:13125,element:10358,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,a,t)))):Promise.reject()},D=e=>{g=e},L=({isAuthenticated:e,isAppShell:t})=>{let n=!1;const o=o=>{if(n)return;n=!0;const s=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${s}.${o}`)},s=navigator.serviceWorker,i=null==s?void 0:s.controller;s&&i?setTimeout((()=>o("timeout")),1e3):o("no_worker")}},758119:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(189734),s=n.n(o),i=n(898781),r=n(19121),a=n(883119),l=n(349700),c=n(785893);function d(e){var t,n,o,s;const i=null!==(t=null!==(n=null==e?void 0:e.imageMediumUrl)&&void 0!==n?n:null==e?void 0:e.image_medium_url)&&void 0!==t?t:"";return{name:null!==(o=null!==(s=null==e?void 0:e.fullName)&&void 0!==s?s:null==e?void 0:e.full_name)&&void 0!==o?o:"",src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function u({board:e,forceViewer:t,isCompact:n,ownerOnly:o}){var u,h,p,m,_;const f=(0,i.ZP)(),v=(0,r.Z)(),x=o?[d(null==e?void 0:e.owner)]:function(e,t,n){const{collaborated_by_me:o,collaborating_users:i,owner:r}=null!=e?e:{},a=null!=i?i:[],l=[r];if(o||n){const e=a.findIndex((e=>t.isAuth&&e.id===t.id));if(-1!==e){const t=a.splice(e,1)[0];l.push(t)}else l.push(t)}const c=s()(a,"full_name");return[...l,...c]}(e,v,t).map(d),g=x.slice(0,3).map((e=>e.name));let w="";switch(x.length){case 3:w=(0,l.Wc)(`${f._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${null!==(u=g[0])&&void 0!==u?u:""}`,second:`${null!==(h=g[1])&&void 0!==h?h:""}`,last:`${null!==(p=g[2])&&void 0!==p?p:""}`});break;case 2:w=(0,l.Wc)(`${f._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${null!==(m=g[0])&&void 0!==m?m:""}`,second:`${null!==(_=g[1])&&void 0!==_?_:""}`});break;default:w=g.join(", ")}const y=x.length>3?(0,l.Wc)(`, ${f.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', x.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')}`,{userNames:w,leftCount:""+(x.length-3)}):(0,l.Wc)(`, ${f._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:w});return(0,c.jsx)(a.HE,{accessibilityLabel:y,collaborators:x,size:n?"xs":"sm"})}},915071:(e,t,n)=>{function o(e,t){return{type:"SEARCH_PIN_CLOSEUP_VIEWED",payload:{pinId:e,query:t}}}function s(e){return{type:"SEARCH_QUERY_STARTED",payload:{query:e}}}function i(e){return{type:"SEARCH_QUERY_INVALIDATED",payload:{query:e}}}n.d(t,{Y4:()=>o,g4:()=>s,sb:()=>i})},461773:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>r,fv:()=>l,kE:()=>u,yA:()=>a});var o=n(6637),s=n(90326);function i(e,t){return o.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return n=>{i(e,t).callCreate().catch((()=>n((0,s.P_)(e,!1)))),n((0,s.P_)(e,!0))}}function a(e,t=null){return async n=>{n((0,s.P_)(e,!0)),await i(e,t).callCreate().catch((t=>{throw n((0,s.P_)(e,!1)),t}))}}function l(e,t=null){return n=>{i(e,t).callDelete().catch((()=>n((0,s.P_)(e,!0)))),n((0,s.P_)(e,!1))}}function c(e,t=null){return async n=>{n((0,s.P_)(e,!1)),await i(e,t).callDelete().catch((t=>{throw n((0,s.P_)(e,!0)),t}))}}const d=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(o.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(d(e,!1)))),t(d(e,!0)))}},90326:(e,t,n)=>{n.d(t,{Ge:()=>l,JS:()=>i,OF:()=>f,P_:()=>r,Q_:()=>u,b8:()=>h,eR:()=>_,h2:()=>c,h6:()=>d});var o=n(962832),s=n(6637);function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const r=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),a=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),l=(e,t)=>n=>(n(a(e,!0)),s.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>n(a(e,!1))))),c=e=>t=>(t(a(e,!1)),s.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(a(e,!0)))));function d(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}const u=(e,t)=>()=>s.Z.create("UserStateResource",{state:e,value:t}).callCreate(),h=(e,t,n)=>(i,r)=>{s.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,o.Dm)()}),t)};const p=async(e,t,n)=>{var o;const i=await s.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(o=i.resource_response)&&void 0!==o&&o.data[e]){const o=i.resource_response.data[e],{status:s,signature:r}=o;if("processing"===s||"registered"===s)setTimeout((async()=>{p(e,t,n)}),5e3);else if("succeeded"===s){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(r);t(e)}else n()}else n()},m=e=>new Promise(((t,n)=>{var o,i,r,a,l;o=e,i="pinimage",r=()=>{},a=e=>{t(e)},l=e=>{n(e)},(new FormData).append("img",o),s.Z.create("VIPResource",{type:i}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:n,upload_parameters:s}=e.resource_response.data,i=new XMLHttpRequest;i.open("POST",n,!0),i.onload=()=>{var e;(e=i.status)>=200&&e<400?(r(100),p(t,a,l)):l()},i.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);r(t)};const c=new FormData;for(const e in s)c.append(e,s[e]);c.append("file",o),i.send(c)}}),(()=>{l()}))})),_=e=>new Promise(((t,n)=>{"string"==typeof e?e.startsWith("data")&&m(function(e,t=512){const n=e.split(";"),o=n[0].split(":")[1],s=n[1].split(",")[1],i=atob(s),r=[];for(let a=0;a<i.length;a+=t){const e=i.slice(a,a+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const o=new Uint8Array(n);r.push(o)}return new Blob(r,{type:o})}(e)).then((e=>t(e))):n("Invalid Image")})),f=e=>()=>s.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()},201155:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(883119),s=n(785893);function i({ideaPinImages:e}){const t={1:28,2:40,3:48},n=e.map(((e,t)=>{var n,i,r;return(0,s.jsx)(o.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(o.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,s.jsx)(o.kC,{justifyContent:"center",children:(0,s.jsx)(o.kC,{justifyContent:"start",width:t[e.length],children:n})})}var r=n(499128),a=n(898781),l=n(784590),c=n(50286);function d({handleHide:e,text:t,userId:n,href:d,imageUrl:u}){const h=(0,a.ZP)(),p=(0,c.HG)(),m=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),_=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length){const t=u?(0,s.jsx)(o.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(o.Ee,{alt:h._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,s.jsx)(r.ZP,{duration:5e3,onHide:e,text:_,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const f=(m.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]})),v=(0,s.jsx)(i,{ideaPinImages:f});return(0,s.jsx)(r.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:v,text:_,thumbnailShape:"square"})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27954-66fdaf11c908eecf.mjs.map